Prepare persistent volumes and claims for OO
OO Containerized installation requires below Persistent Volumes (PVs) and Persistent Volume Claims (PVCs). PVs are pieces of
storage relevant to Amazon Elastic File System volumes, and PVCs are requests for a piece of storage on a volume. 
Currently, OO uses persistent storage by providing the names of the required PVCs at OO install time via Helm parameters.
This means that you must create both PVs and PVCs upfront.
Component
Amazon Elastic File
System volume
name
Description
Example
Directory path
Size
OO
oo-config-vol
Stores OO configuration files.
/var/vols/itom/oo/o
o_config_vol
~ 1 GB
OO
oo-data-vol
Stores OO, OO deployed AutoPass, and OO deployed Vault
generated data.
/var/vols/itom/oo/o
o_data_vol
~ 1 GB
OO
oo-logs-vol
Stores logs generated by the OO components, except RAS
logs which are stored in a different volume.
/var/vols/itom/oo/o
o_logs_vol
1-5 GB
OO
oo-data-export-vol
OO runs a Kubernetes 
cron job
 for purging OO database
with a retention period set to 375 days (default value). 
All the database data that's marked for purge gets
exported first and exposed in this volume before purging. 
/var/vols/itom/oo/o
o_data_export_vol
50-90
GB
See
notes
below
OO
oo-ras-logs-vol
Stores OO RAS logs. 
/var/vols/itom/oo/o
o_ras_logs_vol
1-5 GB
Create persistent volumes
1
. 
Navigate to the OO chart package directory. For example:
cd oo-1.0.x+2022xx01-xx/oo-1.0.x+2022xx01.xx/oo-helm-charts/samples/persistent_storage/eks/
2
. 
Open the 
volumes.yaml
 
file with a text editor, specify the below information in each volume template then save the file:
The FQDN of the Amazon Elastic File System server.
Inside 
volumes.yaml
, replace all 
<NFS_FQDN> 
values with actual
 
Amazon Elastic File System FQDN.
The Amazon Elastic File System directory path that you provided during the 
creation of the Amazon Elastic File
System volumes
.
Inside 
volumes.yaml
, replace all 
<NFS_directory_path>
 values with the actual Amazon Elastic File System directory
paths mapped to each volume.
The storage class Name that needs to be used with the OO volumes.
Notes
:
1
. 
The "OO Database Maintenance and Export" Kubernetes 
cron job
 uses the 
oo-data-export-vol 
 volume. You
can find more information about this job 
here
.
2
. 
The size of the 
oo-data-export-vol 
volume is directly influenced by two factors:
1
. 
The complexity of the flows that OO runs.
OO flows that work with > 1 GB worth of data per flow context, are considered "heavy" flows and
this data will end up in the Amazon Elastic File System. Adjust the volumes depending on the
number of flows that you run.
2
. 
The number of tenants.
More tenants means more data in the Database. This data gets exported in this Amazon Elastic File
System volume. (more tenants means bigger 
oo-data-export-vol 
volume size)


Note
: Set the sizes for each persistent volume in this file according to the table provided in the first
section of this page.


Note
:
By default, the 
storageClassName
 attribute of the PVs is empty.
If you have a storageClass(es) that you want the OO volumes to use, then specify the storage class
Name(s) for each volume.
You can use a different Storage Class name for each volume, or the same storage class Name for all
volumes.


SMAX 2022.11
Page 
931
This PDF was generated on 25/02/2023 02:18:34 for your convenience. For the latest documentation, always see
https://docs.microfocus.com
.